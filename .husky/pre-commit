echo "ğŸ” Running pre-commit checks..."

# Run TypeScript type checking
echo "ğŸ“ Type checking TypeScript..."
pnpm tsc --noEmit || exit 1

# Run linter
echo "ğŸ”§ Linting code..."
pnpm lint || exit 1

# Run frontend tests
echo "ğŸ§ª Running frontend tests..."
pnpm test --run || exit 1

# Run Rust formatting check
echo "ğŸ¦€ Checking Rust formatting..."
(cd src-tauri && cargo fmt --check) || exit 1

# Run Rust clippy
echo "ğŸ“ Running clippy..."
(cd src-tauri && cargo clippy --all-features -- -D warnings) || exit 1

# Run Rust tests
echo "ğŸ§ª Running Rust tests..."
(cd src-tauri && cargo test) || exit 1

echo "âœ… All pre-commit checks passed!"
